--
-- PostgreSQL database dump
--
SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Nome: compras; Type: TABLE; Schema: public; Owner: ingressos_user
--

CREATE TABLE public.compras (
                                quantidade integer NOT NULL,
                                total double precision NOT NULL,
                                data_compra timestamp(6) without time zone NOT NULL,
                                id bigint NOT NULL,
                                ingresso_id bigint NOT NULL,
                                comprador_email character varying(255) NOT NULL,
                                comprador_nome character varying(255) NOT NULL
);


ALTER TABLE public.compras OWNER TO ingressos_user;

--
-- Name: compras_id_seq; Type: SEQUENCE; Schema: public; Owner: ingressos_user
--

ALTER TABLE public.compras ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.compras_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: datas_evento; Type: TABLE; Schema: public; Owner: ingressos_user
--

CREATE TABLE public.datas_evento (
                                     data date,
                                     evento_id bigint NOT NULL
);


ALTER TABLE public.datas_evento OWNER TO ingressos_user;

--
-- Name: eventos; Type: TABLE; Schema: public; Owner: ingressos_user
--

CREATE TABLE public.eventos (
                                capacidade integer NOT NULL,
                                id bigint NOT NULL,
                                descricao character varying(500) NOT NULL,
                                local character varying(255) NOT NULL,
                                nome character varying(255) NOT NULL
);


ALTER TABLE public.eventos OWNER TO ingressos_user;

--
-- Nome: eventos_id_seq; Type: SEQUENCIA; Schema: public; Owner: ingressos_user
--

ALTER TABLE public.eventos ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.eventos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ingressos; Type: TABLE; Schema: public; Owner: ingressos_user
--

CREATE TABLE public.ingressos (
                                  data date NOT NULL,
                                  preco double precision NOT NULL,
                                  quantidade integer NOT NULL,
                                  evento_id bigint NOT NULL,
                                  id bigint NOT NULL,
                                  status character varying(255) NOT NULL,
                                  tipo character varying(255) NOT NULL
);


ALTER TABLE public.ingressos OWNER TO ingressos_user;

--
-- Name: ingressos_id_seq; Type: SEQUENCE; Schema: public; Owner: ingressos_user
--

ALTER TABLE public.ingressos ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ingressos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: compras; Type: TABLE DATA; Schema: public; Owner: ingressos_user
--

COPY public.compras (quantidade, total, data_compra, id, ingresso_id, comprador_email, comprador_nome) FROM stdin;
2	100	2025-01-20 10:30:00	6	6	joao.silva@email.com	João Silva
1	150	2025-01-20 11:00:00	7	4	maria.oliveira@email.com	Maria Oliveira
2	100	2025-01-21 10:00:00	8	4	pedro.teste@email.com	Pedro Teste
1	150	2025-01-21 12:00:00	9	6	ana.teste@email.com	Ana Teste
\.


--
-- Data for Name: datas_evento; Type: TABLE DATA; Schema: public; Owner: ingressos_user
--

COPY public.datas_evento (data, evento_id) FROM stdin;
\.


--
-- Data for Name: eventos; Type: TABLE DATA; Schema: public; Owner: ingressos_user
--

COPY public.eventos (capacidade, id, descricao, local, nome) FROM stdin;
1000	1	Um grande concerto com várias bandas locais e internacionais.	Estádio Central	Concerto de Rock
500	2	Uma apresentação de teatro musical com uma história emocionante.	Teatro Nacional	Teatro Musical
300	3	Noite de comédia stand-up com comediantes renomados.	Teatro do Centro	Comédia Stand-Up
1000	4	Um grande concerto com várias orquestra internacional.	Estádio Central	Concerto de Opera
500	5	Uma apresentação de musical infantil.	Teatro Nacional	Musical
300	6	Noite de comédia stand-up com comediantes locais.	Teatro do Centro	Comédia Stand-Up
\.


--
-- Data for Name: ingressos; Type: TABLE DATA; Schema: public; Owner: ingressos_user
--

COPY public.ingressos (data, preco, quantidade, evento_id, id, status, tipo) FROM stdin;
2025-02-01	50	100	1	2	Disponível	Padrão
2025-02-01	150	50	1	3	Disponível	VIP
2025-02-05	60	200	2	4	Disponível	Padrão
2025-02-05	180	0	2	5	Esgotado	VIP
2025-02-10	40	150	3	6	Disponível	Padrão
2025-02-10	100	80	3	7	Disponível	VIP
2025-02-03	50	100	1	8	Disponível	Padrão
2025-02-03	150	50	1	9	Disponível	VIP
2025-02-04	60	200	2	10	Disponível	Padrão
2025-02-04	180	0	2	11	Esgotado	VIP
2025-02-06	40	150	3	12	Disponível	Padrão
2025-02-19	100	80	3	13	Disponível	VIP
\.


--
-- Name: compras_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ingressos_user
--

SELECT pg_catalog.setval('public.compras_id_seq', 9, true);


--
-- Name: eventos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ingressos_user
--

SELECT pg_catalog.setval('public.eventos_id_seq', 6, true);


--
-- Name: ingressos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: ingressos_user
--

SELECT pg_catalog.setval('public.ingressos_id_seq', 13, true);


--
-- Name: compras compras_pkey; Type: CONSTRAINT; Schema: public; Owner: ingressos_user
--

ALTER TABLE ONLY public.compras
    ADD CONSTRAINT compras_pkey PRIMARY KEY (id);


--
-- Name: eventos eventos_pkey; Type: CONSTRAINT; Schema: public; Owner: ingressos_user
--

ALTER TABLE ONLY public.eventos
    ADD CONSTRAINT eventos_pkey PRIMARY KEY (id);


--
-- Name: ingressos ingressos_pkey; Type: CONSTRAINT; Schema: public; Owner: ingressos_user
--

ALTER TABLE ONLY public.ingressos
    ADD CONSTRAINT ingressos_pkey PRIMARY KEY (id);


--
-- Name: compras fka2lj80ifecq9kfhlks9dm9bqu; Type: FK CONSTRAINT; Schema: public; Owner: ingressos_user
--

ALTER TABLE ONLY public.compras
    ADD CONSTRAINT fka2lj80ifecq9kfhlks9dm9bqu FOREIGN KEY (ingresso_id) REFERENCES public.ingressos(id);


--
-- Name: ingressos fkl3937ng8d4p2qfd17l9d9v4va; Type: FK CONSTRAINT; Schema: public; Owner: ingressos_user
--

ALTER TABLE ONLY public.ingressos
    ADD CONSTRAINT fkl3937ng8d4p2qfd17l9d9v4va FOREIGN KEY (evento_id) REFERENCES public.eventos(id);


--
-- Name: datas_evento fkq264nec22ry8w859i0qcrowt0; Type: FK CONSTRAINT; Schema: public; Owner: ingressos_user
--

ALTER TABLE ONLY public.datas_evento
    ADD CONSTRAINT fkq264nec22ry8w859i0qcrowt0 FOREIGN KEY (evento_id) REFERENCES public.eventos(id);


--
-- PostgreSQL database dump complete
--

